<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ç¾Šã®åšå®¢</title>
  
  
  <link href="http://ruixify.top/atom.xml" rel="self"/>
  
  <link href="http://ruixify.top/"/>
  <updated>2022-04-05T04:12:42.444Z</updated>
  <id>http://ruixify.top/</id>
  
  <author>
    <name>ç”¤è±¨</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>(LeetCode307)åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„å¯ä¿®æ”¹</title>
    <link href="http://ruixify.top/2022/04/04/307/"/>
    <id>http://ruixify.top/2022/04/04/307/</id>
    <published>2022-04-04T14:22:32.000Z</published>
    <updated>2022-04-05T04:12:42.444Z</updated>
    
    <content type="html"><![CDATA[<p>   åˆæ˜¯å…ƒæ°”æ»¡æ»¡çš„ä¸€å¤©ï¼ï¼ˆé¢“åºŸğŸ˜¶ï¼‰<br>   é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/range-sum-query-mutable/">https://leetcode-cn.com/problems/range-sum-query-mutable/</a><br><span id="more"></span></p><h2 id="é¦–å…ˆçœ‹é¢˜ç›®"><a href="#é¦–å…ˆçœ‹é¢˜ç›®" class="headerlink" title="é¦–å…ˆçœ‹é¢˜ç›®"></a>é¦–å…ˆçœ‹é¢˜ç›®</h2>   <div class="note info"><p>   ç»™ä½ ä¸€ä¸ªæ•°ç»„ <strong>nums</strong> ï¼Œè¯·ä½ å®Œæˆä¸¤ç±»æŸ¥è¯¢ã€‚</p><ol><li>å…¶ä¸­ä¸€ç±»æŸ¥è¯¢è¦æ±‚ æ›´æ–° æ•°ç»„ <strong>nums</strong> ä¸‹æ ‡å¯¹åº”çš„å€¼ã€‚</li><li><p>å¦ä¸€ç±»æŸ¥è¯¢è¦æ±‚è¿”å›æ•°ç»„<strong> nums</strong> ä¸­ç´¢å¼•<strong> left</strong> å’Œç´¢å¼• <strong>right</strong> ä¹‹é—´<strong>ï¼ˆ åŒ…å« ï¼‰</strong>çš„<strong>nums</strong>å…ƒç´ çš„ å’Œ ï¼Œå…¶ä¸­ <strong>left &lt;= right</strong>ã€‚</p><p>å®ç° NumArray ç±»ï¼š</p></li></ol><ul><li><strong>NumArray(int[] nums)</strong> ç”¨æ•´æ•°æ•°ç»„ <strong>nums</strong> åˆå§‹åŒ–å¯¹è±¡</li><li><strong>void update(int index, int val)</strong> å°† <strong>nums[index]</strong> çš„å€¼ æ›´æ–° ä¸º <strong>val</strong></li><li><strong>int sumRange(int left, int right)</strong> è¿”å›æ•°ç»„ <strong>nums</strong> ä¸­ç´¢å¼• <strong>left</strong> å’Œç´¢å¼• <strong>right</strong> ä¹‹é—´<strong>ï¼ˆ åŒ…å« ï¼‰</strong>çš„<strong>nums</strong>å…ƒç´ çš„ å’Œ ï¼ˆå³ï¼Œ<strong>nums[left] + nums[left + 1], â€¦, nums[right]</strong>ï¼‰ã€‚</li></ul><p>ç¤ºä¾‹ï¼š</p><pre><code>&gt;è¾“å…¥ï¼š&gt; [&quot;NumArray&quot;, &quot;sumRange&quot;, &quot;update&quot;, &quot;sumRange&quot;]&gt; [[[1, 3, 5]], [0, 2], [1, 2], [0, 2]]&gt; è¾“å‡ºï¼š&gt; [null, 9, null, 8]</code></pre></div><h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><ol><li><h3 id="çº¿æ®µæ ‘"><a href="#çº¿æ®µæ ‘" class="headerlink" title="çº¿æ®µæ ‘"></a>çº¿æ®µæ ‘</h3> çº¿æ®µæ ‘æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦ï¼Œä¹Ÿæ˜¯é€šè¿‡è¿™é“é¢˜å­¦ä¹ äº†çº¿æ®µæ ‘çš„ä½¿ç”¨ç¯å¢ƒï¼Œå…·ä½“çš„å®ç°å’ŒJAVAçš„ä»£ç ï¼ˆè¯¦æƒ…å¯ä»¥è§Bç«™ <strong>BV1cb411t7AM</strong>ï¼Œç¯ç¥è®²çš„è¿˜æ˜¯ååˆ†çš„é€šä¿—æ˜“æ‡‚çš„ï¼‰ã€‚å°±æˆ‘è‡ªå·±çš„ç†è§£ï¼Œçº¿æ®µæ ‘å®é™…ä¸Šå°±æ˜¯â€œçº¿æ®µâ€å’Œâ€œæ ‘â€ã€‚â€œçº¿æ®µâ€å°±æ˜¯æ•°ç»„çš„ä»ä¸€ç´¢å¼•å¤„åˆ°å¦ä¸€ä¸ªç´¢å¼•å¤„ï¼Œå°±åƒçº¿æ®µçš„ä¸¤ä¸ªç«¯ç‚¹ã€‚â€œæ ‘â€å°±æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„æ ‘çš„æ•°æ®ç»“æ„ã€‚è€Œçº¿æ®µæ ‘å°±æ˜¯åˆ©ç”¨æ ‘çš„æ•°æ®ç»“æ„å°†æ•°ç»„çš„çº¿æ®µç‰¹å¾è¡¨ç¤ºå‡ºæ¥ï¼Œä»æ ‘çš„å¶å­èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹çš„å€¼æ˜¯çº¿æ®µå†…å…ƒç´ çš„å’Œï¼Œçº¿æ®µçš„é•¿åº¦ä¸æ–­å¢é•¿ï¼Œç›´åˆ°é•¿åº¦ä¸ºæ•´ä¸ªæ•°ç»„çš„é•¿åº¦ã€‚<h4 id="çº¿æ®µæ ‘æ€è·¯"><a href="#çº¿æ®µæ ‘æ€è·¯" class="headerlink" title="çº¿æ®µæ ‘æ€è·¯"></a>çº¿æ®µæ ‘æ€è·¯</h4><ol><li><h5 id="å»ºæ ‘"><a href="#å»ºæ ‘" class="headerlink" title="å»ºæ ‘"></a>å»ºæ ‘</h5> éœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œçš„æ ‘æ˜¯é€šè¿‡æ•°ç»„çš„æ–¹å¼å­˜å‚¨çš„ã€‚<br> è¿™é‡Œçš„åˆå§‹æ•°ç»„æˆ‘ä»¬è®¾ä¸º<strong>int[] arr</strong>ï¼Œä¸ºäº†è§£é‡Šæ¸…æ¥šï¼Œæˆ‘ä»¬åˆå§‹æ•°æ®å°‘ä¸€ç‚¹<strong>{1ï¼Œ3ï¼Œ5ï¼Œ7ï¼Œ9}</strong>ï¼Œé•¿åº¦<strong>lenght</strong>æ˜¯ 5 ã€‚éœ€è¦å»ºç«‹çš„æ ‘æ•°ç»„ä¸º<strong>int[] tree</strong>ã€‚<br> å¼€å§‹å»ºæ ‘ï¼Œæ ‘çš„æ ¹èŠ‚ç‚¹æ˜¯<strong>0~4</strong>çº¿æ®µå†…å…ƒç´ çš„å’Œï¼Œä¹Ÿå°±æ˜¯ 25 ã€‚<br><img src="/2022/04/04/307/1_1.png" alt><br>ç„¶åå°†çº¿æ®µ<strong>0~4</strong>æˆªæ–­ï¼Œæ–¹æ³•æ˜¯é€šè¿‡ä¸­é—´å€¼<strong>mid</strong>ç±»ä¼¼äºäºŒåˆ†ï¼Œ<strong>mid=start+(end-start)/2</strong>ï¼ˆstartæ˜¯çº¿æ®µçš„å·¦ç´¢å¼•ï¼Œendæ˜¯çº¿æ®µçš„å³ç´¢å¼•ï¼‰ã€‚ç„¶åè®¡ç®—çº¿æ®µèŒƒå›´å†…ä¸ªå…ƒç´ çš„æ€»å’Œï¼Œ<strong>0~2</strong>å†…æ˜¯<strong>9</strong>ï¼Œ<strong>3~4</strong>èŒƒå›´å†…æ˜¯16ã€‚<br><img src="/2022/04/04/307/1_2.png" alt><br>å°±è¿™æ ·ä¸€ç›´ä¸‹å»ã€‚<br> <img src="/2022/04/04/307/1_3.png" alt><br> æ¥ä¸‹æ¥å°±æ˜¯<strong>tree</strong>æ•°ç»„äº†ï¼Œä¸ºäº†å°†æ ‘ç»“æ„ä¿å­˜åœ¨æ•°ç»„ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸Šè¿°çš„æ ‘ç»“æ„è™šæ‹Ÿä¸€äº›èŠ‚ç‚¹ï¼Œä½¿ä¹‹æˆä¸ºå®Œå…¨äºŒå‰æ ‘ã€‚<br> <img src="/2022/04/04/307/1_4.png" alt><br> <img src="/2022/04/04/307/1_tree.png" alt><br> ä»£ç å®ç°å‘¢ï¼Œéœ€è¦åç€æ¥ï¼Œè¿‡ç¨‹å°±åƒ<strong>ååºéå†</strong>ï¼Œä»æ•°ç»„çš„å…¨é•¿<strong>0~4</strong>å¼€å§‹ï¼ˆå³ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼‰ï¼Œåˆ¤æ–­çº¿æ®µä¸­æ˜¯å¦ä»…å­˜åœ¨ä¸€ä¸ªå…ƒç´ äº†ï¼ˆå³æ˜¯å¦æ˜¯å¶å­èŠ‚ç‚¹ï¼Œåˆ¤æ–­æ¡ä»¶ä¸º<strong>start==end</strong>å°±æ˜¯è¯´å·¦å³ç«¯ç‚¹åœ¨åŒä¸€ä¸ªåœ°æ–¹ï¼Œä¸å°±æ˜¯ä¸€ä¸ªç‚¹äº†å˜›å°±æ˜¯ä¸€ä¸ªå…ƒç´ äº†ï¼‰ï¼Œåˆ¤æ–­ä¸ºå¦ï¼Œåˆ™æˆªæ–­ï¼Œä¾æ¬¡é€’å½’å·¦åŒºé—´å’Œå³åŒºé—´ï¼ˆå³é€’å½’å·¦å³å­æ ‘ï¼‰ï¼Œé€’å½’è¿”å›åˆ°çˆ¶èŠ‚ç‚¹æ—¶ï¼Œçˆ¶èŠ‚ç‚¹çš„å€¼ä¸ºå·¦å³å­æ ‘å€¼çš„å’Œã€‚è‹¥åˆ¤æ–­ä¸ºæ˜¯ï¼Œreturnã€‚<h6 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init_tree</span><span class="params">(<span class="type">int</span>[] nums,<span class="type">int</span>[] tree,<span class="type">int</span> node,<span class="type">int</span> start,<span class="type">int</span> end)</span> </span><br><span class="line">&#123;<span class="comment">//åˆå§‹åŒ–çº¿æ®µæ ‘</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(start==end) &#123;</span><br><span class="line">   tree[node]=nums[end];</span><br><span class="line">   <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="type">int</span> mid=start+(end-start)/<span class="number">2</span>;<span class="comment">//æ‰¾åˆ° ä¸­é—´å€¼å¯¹æ ‘è¿›è¡Œåˆ†å‰²ï¼Œé€’å½’è°ƒç”¨</span></span><br><span class="line">   <span class="type">int</span> left_node=<span class="number">2</span>*node+<span class="number">1</span>;<span class="comment">//treeä¸­nodeçš„å·¦å­æ ‘ç´¢å¼•</span></span><br><span class="line">   <span class="type">int</span> right_node=<span class="number">2</span>*node+<span class="number">2</span>;<span class="comment">//treeä¸­nodeçš„å³å­æ ‘ç´¢å¼•</span></span><br><span class="line">    </span><br><span class="line">   <span class="comment">//åˆ©ç”¨ç±»ä¼¼äºååºéå†çš„æ–¹å¼è¿›è¡ŒèŠ‚ç‚¹çš„èµ‹å€¼</span></span><br><span class="line">   init_tree(nums, tree, left_node, start, mid);<span class="comment">//å¯¹å·¦å­æ ‘è¿›è¡Œéå†</span></span><br><span class="line">   init_tree(nums, tree, right_node, mid+<span class="number">1</span>, end);<span class="comment">//å¯¹å³å­æ ‘è¿›è¡Œéå†</span></span><br><span class="line">   tree[node]=tree[left_node]+tree[right_node];<span class="comment">//å¯¹å·¦å³å­æ ‘çš„çˆ¶èŠ‚ç‚¹èµ‹å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li><li><h5 id="æ›´æ–°ç»™å®šç´¢å¼•å¤„çš„å€¼"><a href="#æ›´æ–°ç»™å®šç´¢å¼•å¤„çš„å€¼" class="headerlink" title="æ›´æ–°ç»™å®šç´¢å¼•å¤„çš„å€¼"></a>æ›´æ–°ç»™å®šç´¢å¼•å¤„çš„å€¼</h5><p>å¯¹äºæ•°ç»„<strong>nums</strong>æ¥è¯´å¯ä»¥ç›´æ¥<strong>nums[ index ]=val</strong>å³å¯ï¼Œä½†åœ¨æ›´æ–°ä¹‹åæ•°ç»„<strong>tree</strong>ä¹Ÿéœ€è¦è¿›è¡Œæ›´æ–°ï¼Œè¿™æ ·æ‰èƒ½ä¿æŒåŒæ­¥ã€‚<br>è€Œ<strong>tree</strong>çš„æ›´æ–°æ–¹å¼ç±»ä¼¼äºäºŒåˆ†æŸ¥æ‰¾çš„æ­¥éª¤ã€‚æ›´æ–°ç´¢å¼•<strong>index</strong>å’Œ<strong>mid</strong>è¿›è¡Œæ¯”è¾ƒï¼Œè‹¥<strong>index&gt;=start&amp;&amp;index&lt;=mid</strong>ï¼Œåˆ™<strong>end=mid</strong>å»å·¦åŒºé—´æ‰¾ï¼›è‹¥<strong>index&gt;mid&amp;&amp;index&lt;=end</strong>ï¼Œåˆ™<strong>start=mid+1</strong>å»å³åŒºé—´æ‰¾ï¼Œç›´åˆ°<strong>start==end</strong>è¯´æ˜æ‰¾åˆ°äº†ï¼Œæ›´æ–°treeåœ¨è¯¥ç´¢å¼•çš„å€¼ï¼Œè¿”å›ï¼Œæ›´æ–°å„ä¸ªçˆ¶èŠ‚ç‚¹çš„å€¼ã€‚<br><img src="/2022/04/04/307/2.png" alt></p><h6 id="ä»£ç ï¼š-1"><a href="#ä»£ç ï¼š-1" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update_tree</span><span class="params">(<span class="type">int</span>[] nums,<span class="type">int</span>[] tree,<span class="type">int</span> node,</span></span><br><span class="line"><span class="params">                        <span class="type">int</span> start,<span class="type">int</span> end,<span class="type">int</span> index,<span class="type">int</span> val)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(start==end) &#123;<span class="comment">//å½“æ­¤åŒºé—´å†…åªæœ‰ä¸€ä¸ªå€¼å€¼çš„æ—¶å€™</span></span><br><span class="line">    tree[node]=val;<span class="comment">//æ›´æ–°</span></span><br><span class="line">    nums[start]=val;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> mid=start+(end-start)/<span class="number">2</span>;<span class="comment">//åˆ©ç”¨ä¸­é—´å€¼åˆ¤æ–­indexçš„ä½ç½®ä»è€Œè¿›è¡Œå·¦å³åˆ†æ”¯</span></span><br><span class="line">    <span class="type">int</span> left_node=<span class="number">2</span>*node+<span class="number">1</span>;<span class="comment">//å·¦å­æ ‘çš„ç´¢å¼•</span></span><br><span class="line">    <span class="type">int</span> right_node=<span class="number">2</span>*node+<span class="number">2</span>;<span class="comment">//å³å­æ ‘çš„ç´¢å¼•</span></span><br><span class="line">    <span class="keyword">if</span>(index&gt;mid&amp;&amp;index&lt;=end) &#123;<span class="comment">//å¦‚æœindexåœ¨å·¦åŒºé—´å†…</span></span><br><span class="line">    update_tree(nums, tree, right_node, mid+<span class="number">1</span>, end, index, val);</span><br><span class="line">    <span class="comment">//å¯¹å·¦å­æ ‘è¿›è¡Œæ›´æ–°</span></span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;<span class="comment">//indexåœ¨æœ‰åŒºé—´å†…</span></span><br><span class="line">    update_tree(nums, tree, left_node, start, mid, index, val);</span><br><span class="line">    <span class="comment">//å¯¹å³å­æ ‘è¿›è¡Œæ›´æ–°</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    tree[node]=tree[left_node]+tree[right_node];<span class="comment">//å¯¹çˆ¶èŠ‚ç‚¹é‡æ–°èµ‹å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h5 id="æ±‚ç‰¹å®šåŒºé—´å†…å…ƒç´ çš„å’Œ"><a href="#æ±‚ç‰¹å®šåŒºé—´å†…å…ƒç´ çš„å’Œ" class="headerlink" title="æ±‚ç‰¹å®šåŒºé—´å†…å…ƒç´ çš„å’Œ"></a>æ±‚ç‰¹å®šåŒºé—´å†…å…ƒç´ çš„å’Œ</h5><p>ç‰¹å®šåŒºé—´è®¾ä¸ºï¼ˆL,Rï¼‰ï¼Œå› ä¸º<strong>æ•°ç»„tree</strong>å·²ç»è®°å½•äº†æŸäº›åŒºé—´çš„å…ƒç´ çš„æ€»å’Œï¼Œé‚£ä¹ˆåªè¦æŠŠç‰¹å®šåŒºé—´æ‹†åˆ†ä¸ºtreeæ•°ç»„æœ‰çš„åŒºé—´æœ‰çš„å³å¯ï¼Œæ¢å¥è¯è¯´ï¼Œ<strong>treeèŠ‚ç‚¹çš„è¡¨ç¤ºåŒºé—´æ˜¯ï¼ˆL,Rï¼‰çš„å­é›†çš„æ—¶å€™ï¼Œå°±å¯ä»¥ç›´æ¥è¿”å›è¯¥treeèŠ‚ç‚¹çš„å€¼</strong>ï¼Œå¦‚æ­¤å¯ä»¥é™ä½æ—¶é—´å¤æ‚åº¦ã€‚ä½†æ˜¯å¦‚æœï¼ˆL,Rï¼‰ä¸èŠ‚ç‚¹è¡¨ç¤ºåŒºé—´äº¤é›†æ˜¯ç©ºé›†ï¼Œé‚£ä¹ˆè¦ç›´æ¥è¿”å›0ï¼›å¦‚æœtreeå·²ç»åˆ°äº†å¶å­èŠ‚ç‚¹ï¼Œä¹Ÿç›´æ¥è¿”å›ã€‚<br><img src="/2022/04/04/307/3.png" alt><br>æ‰€ä»¥å†è®¡ç®—æ‰€æœ‰è¿”å›çš„å€¼ï¼Œå³ $ 0+4+5+16=25 $</p><h6 id="ä»£ç ï¼š-2"><a href="#ä»£ç ï¼š-2" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sum_tree</span><span class="params">(<span class="type">int</span>[] tree,<span class="type">int</span> node,<span class="type">int</span> start,<span class="type">int</span> end,<span class="type">int</span> L,<span class="type">int</span> R)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(start&gt;=L&amp;&amp;end&lt;=R) &#123;</span><br><span class="line">    <span class="comment">//è¦æ±‚å’Œçš„åŒºé—´æ˜¯å¾…å®šåŒºé—´çš„å­é›†å¯ä»¥ç›´æ¥è¿”å›å½“å‰çš„tree[node]</span></span><br><span class="line">    <span class="keyword">return</span> tree[node];</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(end&lt;L||start&gt;R) &#123;<span class="comment">//å¦‚æœå¾…å®šåŒºé—´å†…ä¸åŒ…å«æ±‚å’ŒåŒºé—´å°±ç›´æ¥è¿”å›0</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> mid=start+(end-start)/<span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> left_node=<span class="number">2</span>*node+<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> right_node=<span class="number">2</span>*node+<span class="number">2</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> left_sum=sum_tree(nums, tree, left_node, start, mid, L, R);</span><br><span class="line">    <span class="type">int</span> right_sum=sum_tree(nums, tree, right_node, mid+<span class="number">1</span>, end, L, R);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> left_sum+right_sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h5 id="çº¿æ®µæ ‘æ€»ç»“"><a href="#çº¿æ®µæ ‘æ€»ç»“" class="headerlink" title="çº¿æ®µæ ‘æ€»ç»“"></a>çº¿æ®µæ ‘æ€»ç»“</h5><p>çº¿æ®µæ ‘è¦ç†è§£é€šé€è¿˜æ˜¯éœ€è¦ä¸æ–­åœ°å»ç”»å›¾å’Œç†è§£åœ°ï¼Œå°¤å…¶æ˜¯é€’å½’è¿‡ç¨‹æ˜¯å¦‚ä½•è·³è½¬åœ°ä¹Ÿæ˜¯æ¯”è¾ƒå¤´ç–¼çš„äº‹æƒ…ï¼Œå¤šçœ‹å‡ éï¼Œå¤šå†™å‡ éï¼Œå¤šç†è§£ã€‚<br>æœ€åï¼Œçº¿æ®µæ ‘åœ°é¢˜è§£ä»£ç ï¼š</p><h6 id="ä»£ç ï¼š-3"><a href="#ä»£ç ï¼š-3" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">NumArray</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> nums[]=<span class="literal">null</span>;</span><br><span class="line"><span class="type">int</span> tree[]=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">NumArray</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">//numsæœ‰å¯èƒ½æ˜¯ç©ºè¦æ³¨æ„ï¼</span></span><br><span class="line">    <span class="built_in">this</span>.nums=nums;</span><br><span class="line">    tree=<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>*nums.length];</span><br><span class="line">    init_tree(<span class="built_in">this</span>.nums, tree, <span class="number">0</span>, <span class="number">0</span>, <span class="built_in">this</span>.nums.length-<span class="number">1</span>);</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–tree</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(<span class="type">int</span> index, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">    update_tree(<span class="built_in">this</span>.nums, <span class="built_in">this</span>.tree, <span class="number">0</span>, <span class="number">0</span>, <span class="built_in">this</span>.nums.length-<span class="number">1</span>, index, val);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sumRange</span><span class="params">(<span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> sum_tree(<span class="built_in">this</span>.nums, <span class="built_in">this</span>.tree, <span class="number">0</span>, <span class="number">0</span>, <span class="built_in">this</span>.nums.length-<span class="number">1</span>, left, right);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init_tree</span><span class="params">(<span class="type">int</span>[] nums,<span class="type">int</span>[] tree,<span class="type">int</span> node,<span class="type">int</span> start,<span class="type">int</span> end)</span> </span><br><span class="line">    &#123;<span class="comment">//åˆå§‹åŒ–çº¿æ®µæ ‘</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(start==end) &#123;</span><br><span class="line">    tree[node]=nums[end];</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> mid=start+(end-start)/<span class="number">2</span>;<span class="comment">//æ‰¾åˆ° ä¸­é—´å€¼å¯¹æ ‘è¿›è¡Œåˆ†å‰²ï¼Œé€’å½’è°ƒç”¨</span></span><br><span class="line">    <span class="type">int</span> left_node=<span class="number">2</span>*node+<span class="number">1</span>;<span class="comment">//treeä¸­nodeçš„å·¦å­æ ‘ç´¢å¼•</span></span><br><span class="line">    <span class="type">int</span> right_node=<span class="number">2</span>*node+<span class="number">2</span>;<span class="comment">//treeä¸­nodeçš„å³å­æ ‘ç´¢å¼•</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//åˆ©ç”¨ç±»ä¼¼äºååºéå†çš„æ–¹å¼è¿›è¡ŒèŠ‚ç‚¹çš„èµ‹å€¼</span></span><br><span class="line">    init_tree(nums, tree, left_node, start, mid);<span class="comment">//å¯¹å·¦å­æ ‘è¿›è¡Œéå†</span></span><br><span class="line">    init_tree(nums, tree, right_node, mid+<span class="number">1</span>, end);<span class="comment">//å¯¹å³å­æ ‘è¿›è¡Œéå†</span></span><br><span class="line">    tree[node]=tree[left_node]+tree[right_node];<span class="comment">//å¯¹å·¦å³å­æ ‘çš„çˆ¶èŠ‚ç‚¹èµ‹å€¼</span></span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update_tree</span><span class="params">(<span class="type">int</span>[] nums,<span class="type">int</span>[] tree,<span class="type">int</span> node,<span class="type">int</span> start,</span></span><br><span class="line"><span class="params">                            <span class="type">int</span> end,<span class="type">int</span> index,<span class="type">int</span> val)</span> &#123;<span class="comment">//æ›´è¡Œtreeæ•°ç»„</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(start==end) &#123;<span class="comment">//å½“æ­¤åŒºé—´å†…åªæœ‰ä¸€ä¸ªå€¼å€¼çš„æ—¶å€™</span></span><br><span class="line">    tree[node]=val;<span class="comment">//æ›´æ–°</span></span><br><span class="line">    nums[start]=val;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> mid=start+(end-start)/<span class="number">2</span>;<span class="comment">//åˆ©ç”¨ä¸­é—´å€¼åˆ¤æ–­indexçš„ä½ç½®ä»è€Œè¿›è¡Œå·¦å³åˆ†æ”¯</span></span><br><span class="line">    <span class="type">int</span> left_node=<span class="number">2</span>*node+<span class="number">1</span>;<span class="comment">//å·¦å­æ ‘çš„ç´¢å¼•</span></span><br><span class="line">    <span class="type">int</span> right_node=<span class="number">2</span>*node+<span class="number">2</span>;<span class="comment">//å³å­æ ‘çš„ç´¢å¼•</span></span><br><span class="line">    <span class="keyword">if</span>(index&gt;mid&amp;&amp;index&lt;=end) &#123;<span class="comment">//å¦‚æœindexåœ¨å·¦åŒºé—´å†…</span></span><br><span class="line">    update_tree(nums, tree, right_node, mid+<span class="number">1</span>, end, index, val);</span><br><span class="line">    <span class="comment">//å¯¹å·¦å­æ ‘è¿›è¡Œæ›´æ–°</span></span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;<span class="comment">//indexåœ¨æœ‰åŒºé—´å†…</span></span><br><span class="line">    update_tree(nums, tree, left_node, start, mid, index, val);</span><br><span class="line">    <span class="comment">//å¯¹å³å­æ ‘è¿›è¡Œæ›´æ–°</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    tree[node]=tree[left_node]+tree[right_node];<span class="comment">//å¯¹çˆ¶èŠ‚ç‚¹é‡æ–°èµ‹å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sum_tree</span><span class="params">(<span class="type">int</span>[] nums,<span class="type">int</span>[] tree,<span class="type">int</span> node,<span class="type">int</span> start,</span></span><br><span class="line"><span class="params">                        <span class="type">int</span> end,<span class="type">int</span> L,<span class="type">int</span> R)</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(start&gt;=L&amp;&amp;end&lt;=R) &#123;</span><br><span class="line">    <span class="comment">//è¦æ±‚å’Œçš„åŒºé—´æ˜¯å¾…å®šåŒºé—´çš„å­é›†å¯ä»¥ç›´æ¥è¿”å›å½“å‰çš„tree[node]</span></span><br><span class="line">    <span class="keyword">return</span> tree[node];</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(end&lt;L||start&gt;R) &#123;<span class="comment">//å¦‚æœå¾…å®šåŒºé—´å†…ä¸åŒ…å«æ±‚å’ŒåŒºé—´å°±ç›´æ¥è¿”å›0</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> mid=start+(end-start)/<span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> left_node=<span class="number">2</span>*node+<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> right_node=<span class="number">2</span>*node+<span class="number">2</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> left_sum=sum_tree(nums, tree, left_node, start, mid, L, R);</span><br><span class="line">    <span class="type">int</span> right_sum=sum_tree(nums, tree, right_node, mid+<span class="number">1</span>, end, L, R);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> left_sum+right_sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="åˆ†æï¼š"><a href="#åˆ†æï¼š" class="headerlink" title="åˆ†æï¼š"></a>åˆ†æï¼š</h6><p>æ—¶é—´å¤æ‚åº¦ï¼š</p></li></ol><ul><li>æ„é€ å‡½æ•°ï¼š$O(n)$ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„ nums çš„å¤§å°ã€‚äºŒå‰æ ‘çš„é«˜åº¦ä¸è¶…è¿‡ $\lceil \log n \rceil + 1âŒˆlognâŒ‰+1$ï¼Œé‚£ä¹ˆ tree çš„å¤§å°ä¸è¶…è¿‡$ 2 ^ {\lceil \log n \rceil + 1} - 1 \le 4n$ï¼Œæ‰€ä»¥ build çš„æ—¶é—´å¤æ‚åº¦ä¸º$ O(n)$ã€‚</li><li>update_tree å‡½æ•°ï¼š$O(log n)$ã€‚å› ä¸ºæ ‘çš„é«˜åº¦ä¸è¶…è¿‡ $\lceil \log n \rceil + 1$ï¼Œæ‰€ä»¥æ¶‰åŠæ›´æ–°çš„ç»“ç‚¹æ•°ä¸è¶…è¿‡$ \lceil \log n \rceil + 1$</li><li>sum_tree å‡½æ•°ï¼š$O(logn)$ã€‚æ¯å±‚ç»“ç‚¹æœ€å¤šè®¿é—®å››ä¸ªï¼Œæ€»å…±è®¿é—®çš„ç»“ç‚¹æ•°ä¸è¶…è¿‡$ 4 \times (\lceil \log n \rceil + 1)$ã€‚<br> ç©ºé—´å¤æ‚åº¦ï¼š<br> $O(n)$ã€‚ä¿å­˜ tree éœ€è¦ $O(n)$ çš„ç©ºé—´ã€‚</li></ul><h6 id="ç»“æœï¼š"><a href="#ç»“æœï¼š" class="headerlink" title="ç»“æœï¼š"></a>ç»“æœï¼š</h6><p><img src="/2022/04/04/307/çº¿æ®µæ ‘.png" alt></p><ol><li><h3 id="åˆ†å—å¤„ç†"><a href="#åˆ†å—å¤„ç†" class="headerlink" title="åˆ†å—å¤„ç†"></a>åˆ†å—å¤„ç†</h3>LeetCodeå®˜æ–¹è¿˜ç»™äº†ä¸€ç§è§£æ³•æ˜¯<strong>åˆ†å—å¤„ç†</strong>ï¼ŒåŸç†æ˜¯å°†æ•°ç»„åˆ†æˆå›ºå®šé•¿çš„å‡ ä¸ªå°å—ï¼Œå› ä¸ºå°±æ›´æ–°ç‰¹å®šç´¢å¼•çš„å€¼æ¥è¯´ï¼Œæ—¶é—´å¤æ‚åº¦çš„$O(1)$ï¼Œè€Œæ±‚å’Œæ—¶é—´å¤æ‚åº¦æ˜¯æ˜æ˜¾çš„é«˜äº†ï¼Œå¯¹äºå¤§é‡æ•°æ®æ¥è¯´ï¼Œè€Œåˆ†å—å¤„ç†çš„æ±‚å’Œå‡½æ•°çš„æ•°å­¦é€»è¾‘è¾ƒå¼ºï¼Œä¸åƒçº¿æ®µæ ‘ï¼Œå¤šçœ‹å‡ éå°±èƒ½å·®ä¸å¤šç†è§£çš„ã€‚<br><img src="/2022/04/04/307/åˆ†å—.png" alt><br>æˆ‘ä¹Ÿç»™ä¸Šå®˜æ–¹çš„ä»£ç ï¼š<h4 id="ä»£ç ï¼š-4"><a href="#ä»£ç ï¼š-4" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">NumArray</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] sum; <span class="comment">// sum[i] è¡¨ç¤ºç¬¬ i ä¸ªå—çš„å…ƒç´ å’Œ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> size; <span class="comment">// å—çš„å¤§å°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] nums;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">NumArray</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.nums = nums;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        size = (<span class="type">int</span>) Math.sqrt(n);</span><br><span class="line">        sum = <span class="keyword">new</span> <span class="title class_">int</span>[(n + size - <span class="number">1</span>) / size]; <span class="comment">// n/size å‘ä¸Šå–æ•´</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            sum[i / size] += nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(<span class="type">int</span> index, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        sum[index / size] += val - nums[index];</span><br><span class="line">        nums[index] = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sumRange</span><span class="params">(<span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b1</span> <span class="operator">=</span> left / size, i1 = left % size, b2 = right / size, i2 = right % size;</span><br><span class="line">        <span class="keyword">if</span> (b1 == b2) &#123; <span class="comment">// åŒºé—´ [left, right] åœ¨åŒä¸€å—ä¸­</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i1; j &lt;= i2; j++) &#123;</span><br><span class="line">                sum += nums[b1 * size + j];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> sum;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum1</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i1; j &lt; size; j++) &#123;</span><br><span class="line">            sum1 += nums[b1 * size + j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum2</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt;= i2; j++) &#123;</span><br><span class="line">            sum2 += nums[b2 * size + j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum3</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> b1 + <span class="number">1</span>; j &lt; b2; j++) &#123;</span><br><span class="line">            sum3 += sum[j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum1 + sum2 + sum3;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/range-sum-query-mutable/solution/qu-yu-he-jian-suo-shu-zu-ke-xiu-gai-by-l-76xj/">https://leetcode-cn.com/problems/range-sum-query-mutable/solution/qu-yu-he-jian-suo-shu-zu-ke-xiu-gai-by-l-76xj/</a></li><li><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2>ä¸­ç­‰é¢˜ï¼ŒèŠ±ç‚¹æ—¶é—´è¿˜æ˜¯å¯ä»¥è§£å†³çš„ï¼Œæœ€ä¸»è¦çš„æ˜¯é€šè¿‡è¿™é¢˜äº†è§£äº†çº¿æ®µæ ‘çš„æ•°æ®ç»“æ„ï¼Œåˆå˜å¼ºäº†å‘¢ï¼Œ<strong>Fightingï¼ï¼</strong>ğŸ˜œã€‚</li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;   åˆæ˜¯å…ƒæ°”æ»¡æ»¡çš„ä¸€å¤©ï¼ï¼ˆé¢“åºŸğŸ˜¶ï¼‰&lt;br&gt;   é¢˜ç›®é“¾æ¥ï¼š&lt;a href=&quot;https://leetcode-cn.com/problems/range-sum-query-mutable/&quot;&gt;https://leetcode-cn.com/problems/range-sum-query-mutable/&lt;/a&gt;&lt;br&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="æ¯æ—¥ä¸€ç»ƒ" scheme="http://ruixify.top/categories/%E6%AF%8F%E6%97%A5%E4%B8%80%E7%BB%83/"/>
    
    
    <category term="çº¿æ®µæ ‘" scheme="http://ruixify.top/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    
    <category term="ä¸­ç­‰" scheme="http://ruixify.top/tags/%E4%B8%AD%E7%AD%89/"/>
    
  </entry>
  
  <entry>
    <title>(LeetCode744)å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯</title>
    <link href="http://ruixify.top/2022/04/04/744/"/>
    <id>http://ruixify.top/2022/04/04/744/</id>
    <published>2022-04-04T00:55:03.000Z</published>
    <updated>2022-04-04T14:29:26.397Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€éåšå®¢æ–‡ç« ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡å°è¯•ç”¨è¿™ç§æ–¹å¼æ¥è®²ç¼–ç¨‹é¢˜ï¼Œå¦‚æœ‰ä»€ä¹ˆä¸å¥½çš„åœ°æ–¹è¿˜è¯·å¤šå¤šåŒ…æ¶µï¼Œä¹‹åæˆ‘ä¹Ÿä¼šé€æ­¥å®Œå–„åšå®¢ç½‘ç«™çš„åŠŸèƒ½ã€‚<br><span id="more"></span></p><h3 id="é¦–å…ˆæ¥åº·åº·é¢˜ç›®"><a href="#é¦–å…ˆæ¥åº·åº·é¢˜ç›®" class="headerlink" title="é¦–å…ˆæ¥åº·åº·é¢˜ç›®"></a>é¦–å…ˆæ¥åº·åº·é¢˜ç›®</h3>  <div class="note info"><p>ç»™ä½ ä¸€ä¸ªæ’åºåçš„å­—ç¬¦åˆ—è¡¨ <strong>letters</strong> ï¼Œåˆ—è¡¨ä¸­åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚å¦ç»™å‡ºä¸€ä¸ªç›®æ ‡å­—æ¯ <strong>target</strong>ï¼Œè¯·ä½ å¯»æ‰¾åœ¨è¿™ä¸€æœ‰åºåˆ—è¡¨é‡Œæ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯ã€‚</p><p>  åœ¨æ¯”è¾ƒæ—¶ï¼Œå­—æ¯æ˜¯ä¾åºå¾ªç¯å‡ºç°çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼š</p><ul><li>å¦‚æœç›®æ ‡å­—æ¯ <strong>â€˜zâ€™</strong> å¹¶ä¸”å­—ç¬¦åˆ—è¡¨ä¸º <strong>letters = [â€˜aâ€™, â€˜bâ€™]</strong> ï¼Œåˆ™ç­”æ¡ˆè¿”å› <strong>â€˜aâ€™</strong></li><li>ç¤ºä¾‹ï¼š<pre><code>&gt;è¾“å…¥ï¼šletters = [&quot;c&quot;, &quot;f&quot;, &quot;j&quot;]ï¼Œtarget = &quot;a&quot;&gt;è¾“å‡º: &quot;c&quot;</code></pre></li></ul></div><h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><ol><li><h4 id="æš´åŠ›è§£å†³"><a href="#æš´åŠ›è§£å†³" class="headerlink" title="æš´åŠ›è§£å†³"></a>æš´åŠ›è§£å†³</h4><p> çœ‹å®Œé¢˜ç›®ä¹‹åæœ€å…ˆæƒ³åˆ°ä¹Ÿæ˜¯æœ€å®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯æš´åŠ›ç®—æ³•è§£å†³ã€‚</p><h5 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><ol><li>é¦–å…ˆå¯ä»¥å…ˆåˆ¤æ–­ target æ˜¯ä¸æ˜¯ â€˜zâ€™ ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™å¯ä»¥ç›´æ¥è¿”å› letters[ 0 ] ,å› ä¸ºæ‰€æœ‰çš„å­—                       æ¯ä¸­æ²¡æœ‰æ¯”å­—æ¯ â€˜zâ€™ è¿˜è¦å¤§çš„å­—æ¯äº†ï¼Œå†è€…è€ƒè™‘åˆ°lettersæ•°ç»„æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥ç­”æ¡ˆå°±æ˜¯                         letters[ 0 ]ã€‚ </li><li>ä¸‹æ ‡ i ä» 0 å¼€å§‹,letters[ i ]ä¾æ¬¡ä¸ target è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœ letters[ i ]æ¯” target è¦å°æˆ–è€…ç­‰äºå°±ç»§ç»­å¾ªç¯ï¼Œåªè¦letters[ i ]æ¯” target è¦å¤§ï¼Œå°±å¯ä»¥ç›´æ¥returnã€‚</li><li>è¿˜éœ€è¦ç‰¹æ®Šè€ƒè™‘çš„æ˜¯ç±»ä¼¼äºå­—æ¯ â€˜zâ€™ çš„æƒ…å†µï¼Œå³ target å·²ç»æ¯”å®Œäº† letters ä¸­æ‰€æœ‰çš„å…ƒç´ ä¾ç„¶æ²¡æœ‰æ‰¾åˆ°æ¯” target å¤§çš„ï¼Œæ­¤æ—¶è¿˜æ˜¯ç›´æ¥è¿”å› letters[ 0 ]ã€‚<h6 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span> <span class="title function_">nextGreatestLetter</span><span class="params">(<span class="type">char</span>[] letters, <span class="type">char</span> target)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(target==<span class="string">&#x27;z&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> letters[<span class="number">0</span>];</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=letters.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(i==letters.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> letters[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(target-letters[i]&gt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> letters[i];</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="åˆ†æï¼š"><a href="#åˆ†æï¼š" class="headerlink" title="åˆ†æï¼š"></a>åˆ†æï¼š</h5>æ˜¾ç„¶ï¼Œæš´åŠ›è§£å†³çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $ O(n) $,ç©ºé—´å¤æ‚åº¦æ˜¯ $ O(1) $ã€‚è¿™æ²¡æœ‰ä»€ä¹ˆå›°éš¾çš„åœ°æ–¹ã€‚<h5 id="ç»“æœï¼š"><a href="#ç»“æœï¼š" class="headerlink" title="ç»“æœï¼š"></a>ç»“æœï¼š</h5><img src="/2022/04/04/744/æš´åŠ›.png" alt></li></ol></li><li><h4 id="äºŒåˆ†æ³•"><a href="#äºŒåˆ†æ³•" class="headerlink" title="äºŒåˆ†æ³•"></a>äºŒåˆ†æ³•</h4><p>æš´åŠ›ç®—æ³•å†™å®Œä¹‹åå¯¹äºé¢˜ç›®æœ‰äº†ä¸€ä¸ªæ–°çš„ç†è§£ï¼Œé¦–å…ˆå¯¹äº letters æ•°ç»„æ¥è¯´ï¼Œå®ƒæ˜¯æœ‰åºçš„ï¼Œå¦‚æ­¤æœ‰åˆ©çš„æ¡ä»¶ä¸ç”¨å²‚ä¸æ˜¯æµªè´¹ã€‚é‚£ä¹ˆå¦‚ä½•åˆ©ç”¨å‘¢ï¼Ÿæ²¡é”™ï¼ŒäºŒåˆ†æŸ¥æ‰¾ã€‚</p><h5 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><ol><li>åŒæ ·ï¼Œé¦–å…ˆå¯ä»¥å…ˆåˆ¤æ–­ target ä¸æœ€åä¸€ä¸ªå­—æ¯çš„å¤§å°ï¼Œå¦‚æœ target å¤§ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç›´æ¥è¿”å› letters[ 0 ]ã€‚</li><li>å¦å¤–çš„æƒ…å†µå°±æ˜¯åœ¨æ•°ç»„ä¸­äº†ï¼Œå°±å¯ä»¥åˆ©ç”¨äºŒåˆ†æ³•æ‰¾åˆ°è¿™ä¸ªæœ€å°å­—æ¯ï¼Œæé«˜æ—¶é—´æ•ˆç‡ã€‚å…·ä½“å®ç°å‘¢å°±æ˜¯åˆå§‹æ—¶ï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„èŒƒå›´æ˜¯æ•´ä¸ªåˆ—è¡¨çš„ä¸‹æ ‡èŒƒå›´ã€‚æ¯æ¬¡æ¯”è¾ƒå½“å‰ä¸‹æ ‡å¤„çš„å­—æ¯å’Œç›®æ ‡å­—æ¯ï¼Œå¦‚æœå½“å‰ä¸‹æ ‡å¤„çš„å­—æ¯å¤§äºç›®æ ‡å­—æ¯ï¼Œåˆ™åœ¨å½“å‰ä¸‹æ ‡ä»¥åŠå½“å‰ä¸‹æ ‡çš„å·¦ä¾§ç»§ç»­æŸ¥æ‰¾ï¼Œå¦åˆ™åœ¨å½“å‰ä¸‹æ ‡çš„å³ä¾§ç»§ç»­æŸ¥æ‰¾ã€‚ <h6 id="ä»£ç ï¼š-1"><a href="#ä»£ç ï¼š-1" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span> <span class="title function_">nextGreatestLetter</span><span class="params">(<span class="type">char</span>[] letters, <span class="type">char</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> len=letters.length-<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> heigh=len,low=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(target&gt;=letters[heigh]) &#123;</span><br><span class="line">        <span class="keyword">return</span> letters[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> mid=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(low&lt;heigh) &#123;</span><br><span class="line">        mid=low+(heigh-low)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(letters[mid]&gt;target) &#123;</span><br><span class="line">        heigh=mid;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        low=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> letters[low];</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h5>å¯¹äºäºŒåˆ†æŸ¥æ‰¾æ¥è¯´ï¼Œæ—¶é—´å¤æ‚åº¦ä¸€å®šæ˜¯å’Œ $ log(n) $æœ‰å…³çš„ã€‚æ˜¾ç„¶ï¼Œè¿™é‡Œçš„æ—¶é—´å¤æ‚åº¦æ˜¯ $ O(log n) $çš„ï¼Œç©ºé—´å¤æ‚åº¦è¿˜æ˜¯$O(1)$ï¼Œæ²¡å˜ã€‚<h5 id="ç»“æœï¼š-1"><a href="#ç»“æœï¼š-1" class="headerlink" title="ç»“æœï¼š"></a>ç»“æœï¼š</h5><img src="/2022/04/04/744/äºŒåˆ†æ³•.png" alt></li></ol><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>è¿™æ˜¯ç¬¬ä¸€ç¯‡åšå®¢ï¼Œæ‰€ä»¥åœ¨å†™åšå®¢ä¹‹å‰ï¼ŒåŒ…æ‹¬åœ¨å†™åšå®¢çš„è¿‡ç¨‹ä¸­éƒ½èŠ±äº†æ¯”è¾ƒå¤šçš„æ—¶é—´å»äº†è§£å’Œå­¦ä¹ ï¼ŒåŒæ—¶æ­£å¥½leetcodeçš„ä»Šå¤©ä¹Ÿæ˜¯ä¸ª<strong>â€œç®€å•â€</strong>é¢˜ï¼Œè¿˜æ˜¯æ¯”è¾ƒæ¸¸åˆƒæœ‰ä½™çš„ï¼ŒğŸ˜ã€‚è€Œå°±é¢˜ç›®æ¥è¯´ï¼Œç®€å•çš„å¾ˆäº†ï¼Œä¸¤ç§æ–¹æ³•éƒ½å¾ˆå¥½æƒ³ï¼Œä¹Ÿç®—æ˜¯å¸¸è§„é¢˜ï¼Œä¸è¿‡ä¹Ÿç®—æ˜¯é”»ç‚¼åŸºæœ¬åŠŸäº†ã€‚</p></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€éåšå®¢æ–‡ç« ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡å°è¯•ç”¨è¿™ç§æ–¹å¼æ¥è®²ç¼–ç¨‹é¢˜ï¼Œå¦‚æœ‰ä»€ä¹ˆä¸å¥½çš„åœ°æ–¹è¿˜è¯·å¤šå¤šåŒ…æ¶µï¼Œä¹‹åæˆ‘ä¹Ÿä¼šé€æ­¥å®Œå–„åšå®¢ç½‘ç«™çš„åŠŸèƒ½ã€‚&lt;br&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="æ¯æ—¥ä¸€ç»ƒ" scheme="http://ruixify.top/categories/%E6%AF%8F%E6%97%A5%E4%B8%80%E7%BB%83/"/>
    
    
    <category term="äºŒåˆ†" scheme="http://ruixify.top/tags/%E4%BA%8C%E5%88%86/"/>
    
    <category term="ç®€å•" scheme="http://ruixify.top/tags/%E7%AE%80%E5%8D%95/"/>
    
  </entry>
  
</feed>
